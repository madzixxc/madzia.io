<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>madzia.io</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #111111;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
        }

        #background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 1;
            opacity: 0.8;
        }

        #foreground {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2;
        }

        #text-wrapper {
            position: relative;
            transform: scale(0.9);
        }

        .bg-tile {
            position: absolute;
            border-radius: 4px;
            background: linear-gradient(135deg,
                rgba(40, 40, 40, 0.7) 0%,
                rgba(30, 30, 30, 0.7) 50%,
                rgba(20, 20, 20, 0.7) 100%);
            box-shadow: 
                inset 1px 1px 2px rgba(255, 255, 255, 0.1),
                inset -1px -1px 2px rgba(0, 0, 0, 0.3),
                0 4px 8px rgba(0, 0, 0, 0.3);
            transform: rotate(var(--rotation));
        }

        .text-pixel {
            position: absolute;
            border-radius: 2px;
            box-shadow: 
                inset 1px 1px 3px rgba(255, 255, 255, 0.6),
                inset -1px -1px 3px rgba(0, 0, 0, 0.6),
                0px 3px 6px rgba(0, 0, 0, 0.4);
        }
    </style>
</head>
<body>
    <div id="background"></div>
    <div id="foreground">
        <div id="text-wrapper"></div>
    </div>

    <script>
        const text = 'madzia.io';
        const bgTileSize = 120;
        let pixelSize = 20;

        const letters = {
            'm': [
                '11111',
                '11011',
                '10101',
                '10001',
                '10001'
            ],
            'a': [
                '01110',
                '10001',
                '11111',
                '10001',
                '10001'
            ],
            'd': [
                '11110',
                '10001',
                '10001',
                '10001',
                '11110'
            ],
            'z': [
                '11111',
                '00110',
                '01100',
                '11000',
                '11111'
            ],
            'i': [
                '11111',
                '00100',
                '00100',
                '00100',
                '11111'
            ],
            '.': [
                '00000',
                '00000',
                '00000',
                '01100',
                '01100'
            ],
            'o': [
                '01110',
                '10001',
                '10001',
                '10001',
                '01110'
            ]
        };

        const colorPattern = [
            '#FF0080', 
            '#00FF80', 
            '#8000FF', 
            '#FF8000', 
            '#00FFFF', 
            '#FF00FF', 
            '#FFFF00'  
        ];

        function getColorForPosition(x, y) {
            const index = Math.abs(x + y * 7) % colorPattern.length;
            return colorPattern[index];
        }

        function createBgTile(x, y, grid) {
            const tile = document.createElement('div');
            tile.className = 'bg-tile';
            
            const sizeVariation = bgTileSize * 0.4;
            const width = bgTileSize + (Math.random() - 0.5) * sizeVariation;
            const height = bgTileSize + (Math.random() - 0.5) * sizeVariation;
            
            const seed = x * 10000 + y;
            const random = (seed) => {
                const x = Math.sin(seed++) * 10000;
                return x - Math.floor(x);
            };
            
            const maxVariation = bgTileSize;
            const maxAttempts = 15;
            let finalX = x, finalY = y;
            let placed = false;
            
            for (let attempt = 0; attempt < maxAttempts && !placed; attempt++) {
                const variationX = (random(seed + attempt) - 0.5) * maxVariation;
                const variationY = (random(seed + attempt + 1000) - 0.5) * maxVariation;
                
                const tryX = x + variationX;
                const tryY = y + variationY;
                
                if (!isOverlapping(tryX, tryY, width, height, grid)) {
                    finalX = tryX;
                    finalY = tryY;
                    placed = true;
                }
            }
            
            if (!placed) {
                finalX = x;
                finalY = y;
            }
            
            const rotation = (random(seed + 5000) - 0.5) * 30;
            tile.style.setProperty('--rotation', `${rotation}deg`);
            
            const gridX = Math.floor(finalX / bgTileSize);
            const gridY = Math.floor(finalY / bgTileSize);
            grid[`${gridX},${gridY}`] = { x: finalX, y: finalY, width, height };
            
            tile.style.width = `${width}px`;
            tile.style.height = `${height}px`;
            tile.style.left = `${finalX}px`;
            tile.style.top = `${finalY}px`;
            
            return tile;
        }

        function isOverlapping(x, y, width, height, grid) {
            const margin = bgTileSize * 0.2;
            
            const startGridX = Math.floor((x - width - margin) / bgTileSize) - 1;
            const endGridX = Math.ceil((x + width + margin) / bgTileSize) + 1;
            const startGridY = Math.floor((y - height - margin) / bgTileSize) - 1;
            const endGridY = Math.ceil((y + height + margin) / bgTileSize) + 1;
            
            for (let gridY = startGridY; gridY <= endGridY; gridY++) {
                for (let gridX = startGridX; gridX <= endGridX; gridX++) {
                    const key = `${gridX},${gridY}`;
                    const tile = grid[key];
                    if (tile) {
                        if (!(x + width + margin < tile.x || 
                            x > tile.x + tile.width + margin || 
                            y + height + margin < tile.y || 
                            y > tile.y + tile.height + margin)) {
                            return true;
                        }
                    }
                }
            }
            return false;
        }

        function createTextPixel(x, y, color) {
            const pixel = document.createElement('div');
            pixel.className = 'text-pixel';
            pixel.style.left = `${x}px`;
            pixel.style.top = `${y}px`;
            pixel.style.width = `${pixelSize}px`;
            pixel.style.height = `${pixelSize}px`;
            
            const rgb = hexToRgb(color);
            const lighter = `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 1)`;
            const darker = `rgba(${Math.max(0, rgb.r - 50)}, ${Math.max(0, rgb.g - 50)}, ${Math.max(0, rgb.b - 50)}, 1)`;
            pixel.style.background = `linear-gradient(135deg, ${lighter} 0%, ${darker} 100%)`;
            
            return pixel;
        }

        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }

        function renderBackground() {
            const container = document.getElementById('background');
            container.innerHTML = '';
            
            const grid = {};
            const cols = Math.ceil(window.innerWidth / bgTileSize) + 6;
            const rows = Math.ceil(window.innerHeight / bgTileSize) + 6;
            
            const startX = -bgTileSize * 3;
            const startY = -bgTileSize * 3;

            for (let y = 0; y < rows; y++) {
                for (let x = 0; x < cols; x++) {
                    const tile = createBgTile(
                        startX + x * bgTileSize,
                        startY + y * bgTileSize,
                        grid
                    );
                    container.appendChild(tile);
                }
            }
        }

        function renderText() {
            const wrapper = document.getElementById('text-wrapper');
            wrapper.innerHTML = '';
            let totalWidth = 0;
            let totalHeight = 5 * pixelSize;

            text.split('').forEach(char => {
                if (!letters[char]) return;
                const pattern = letters[char];
                totalWidth += (pattern[0].length + 1) * pixelSize;
            });

            const maxWidth = window.innerWidth * 0.8;
            const maxHeight = window.innerHeight * 0.5;
            const scaleX = maxWidth / totalWidth;
            const scaleY = maxHeight / totalHeight;
            const scale = Math.min(scaleX, scaleY);

            pixelSize = Math.floor(pixelSize * scale);
            let xOffset = -totalWidth * scale / 2;

            text.split('').forEach(char => {
                if (!letters[char]) return;
                const pattern = letters[char];
                pattern.forEach((row, y) => {
                    for (let x = 0; x < row.length; x++) {
                        if (row[x] === '1') {
                            const posX = x * pixelSize + xOffset;
                            const posY = y * pixelSize - (totalHeight * scale / 2);
                            const color = getColorForPosition(x, y);
                            const pixel = createTextPixel(posX, posY, color);
                            wrapper.appendChild(pixel);
                        }
                    }
                });
                xOffset += (pattern[0].length + 1) * pixelSize;
            });
        }

        renderBackground();
        renderText();

        window.addEventListener('resize', () => {
            renderBackground();
            renderText();
        });
    </script>
</body>
</html>
